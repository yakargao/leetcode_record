package cn

import "fmt"

//æœ‰ä¸€å †çŸ³å¤´ï¼Œæ¯å—çŸ³å¤´çš„é‡é‡éƒ½æ˜¯æ­£æ•´æ•°ã€‚
//
// æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡ºä¸¤å— æœ€é‡çš„ çŸ³å¤´ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º x å’Œ yï¼Œä¸” x <= yã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š 
//
// 
// å¦‚æœ x == yï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼› 
// å¦‚æœ x != yï¼Œé‚£ä¹ˆé‡é‡ä¸º x çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º y çš„çŸ³å¤´æ–°é‡é‡ä¸º y-xã€‚ 
// 
//
// æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´çš„é‡é‡ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› 0ã€‚ 
//
// 
//
// ç¤ºä¾‹ï¼š 
//
// 
//è¾“å…¥ï¼š[2,7,4,1,8,1]
//è¾“å‡ºï¼š1
//è§£é‡Šï¼š
//å…ˆé€‰å‡º 7 å’Œ 8ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º [2,4,1,1,1]ï¼Œ
//å†é€‰å‡º 2 å’Œ 4ï¼Œå¾—åˆ° 2ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º [2,1,1,1]ï¼Œ
//æ¥ç€æ˜¯ 2 å’Œ 1ï¼Œå¾—åˆ° 1ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸º [1,1,1]ï¼Œ
//æœ€åé€‰å‡º 1 å’Œ 1ï¼Œå¾—åˆ° 0ï¼Œæœ€ç»ˆæ•°ç»„è½¬æ¢ä¸º [1]ï¼Œè¿™å°±æ˜¯æœ€åå‰©ä¸‹é‚£å—çŸ³å¤´çš„é‡é‡ã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= stones.length <= 30 
// 1 <= stones[i] <= 1000 
// 
// Related Topics å † è´ªå¿ƒç®—æ³• 
// ğŸ‘ 155 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
func lastStoneWeight(stones []int) int {

	for i:=len(stones)/2;i>=0;i--{
		adjustDown(stones,i)
	}
	for i:=0;i<len(stones);i++{

		fmt.Println(pop(stones,len(stones)-1-i))
	}
	return 0
}
func abs(a,b int) int  {
	if a > b  {
		return a-b
	}
	return b - a
}
func pop(stones []int,end int) int {
	if len(stones) == 0 {
		return -1
	}
	v := stones[0]
	stones[0],stones[end] = stones[end],stones[0]
	stones = stones[:end]
	adjustDown(stones,0)
	return v
}
func adjustUp(stones []int,n int)  {
	if n <=0 {
		return
	}
	parent := (n-1)/2
	if parent >= 0 && stones[parent]<stones[n] {
		stones[parent],stones[n] = stones[n],stones[parent]
		adjustUp(stones,parent)
	}

}
func adjustDown(stones []int,n int)  {
	l := len(stones)
	if n >= l {
		return
	}
	left := n*2 + 1
	right := n*2 + 2
	maxIdx := n
	if left < l && stones[left] > stones[maxIdx]{
		maxIdx = left
	}
	if right < l && stones[right] > stones[maxIdx]{
		maxIdx = right
	}
	if maxIdx != n {
		stones[n],stones[maxIdx] = stones[maxIdx],stones[n]
		adjustDown(stones,maxIdx)
	}
}
//leetcode submit region end(Prohibit modification and deletion)
